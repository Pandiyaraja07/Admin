<div class="row custom-text">
    <div class="card rounded_card bg-wrap">
        <div class="card-body bg-content">
            <div class="row">
                <div class="col-lg-8">
                    <div class="row">
                        <div class="col-lg-10">
                            <div class="d-flex align-items-center">
                                <div class="flex-shrink-0 avatar me-3 d-sm-block d-none">
                                    <img _ngcontent-ado-c113="" src="assets/images/menu-icon/Dashboard.png" alt=""
                                        class="d-block" />
                                </div>
                                <div class="flex-grow-1">
                                    <h5 style="
                      width: 100%;
                      font-family: Ubuntu;
                      font-size: 23px;
                      font-weight: bold;
                      text-align: left;
                      color: #454545;
                    ">
                                        Dashboard
                                    </h5>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--div id="divChart" style="width:400px;">
        <canvas id="canvas" height="250"> {{chart}}</canvas>
    </div-->
        </div>
    </div>
    <!--div class="py-4">
        <a routerLink="/dashboard1/employee-list"> list employee</a>
    </div-->
    <div class="row px-0 mx-0">
        <ul ngbNav #justifyNav="ngbNav" [activeId]="active"
            class="nav nav-tabs nav-tabs-custom custom-tab-head rounded-pill" style="
          background-color: #fff;
          padding-right: 10px;
          padding-left: 20px;
          padding-top: 0px;
          font-size: 15.5px;
        ">

            <li [ngbNavItem]="1">
                <a ngbNavLink (click)="pyramidChart()">
                    <span class="d-block d-sm-none"><i class="far fa-user"></i></span>
                    <span class="d-none d-sm-block">Pyramid</span>
                </a>
                <ng-template ngbNavContent>
                    <ng-template [ngTemplateOutlet]="TabContent1"></ng-template>
                </ng-template>
            </li>
            <li [ngbNavItem]="2">
                <a ngbNavLink (click)="sunburstChart()">
                    <span class="d-block d-sm-none"><i class="far fa-user"></i></span>
                    <span class="d-none d-sm-block">Sunburst</span>
                </a>
                <ng-template ngbNavContent>
                    <ng-template [ngTemplateOutlet]="TabContent2"></ng-template>
                </ng-template>
            </li>
        </ul>

        <ng-template #TabContent1>
            <div class="card rounded_card bg-wrap">
                <div class="card-body bg-content">
                    <div class="row m-0 p-0">
                        <div class="col-lg-6">
                            <div class="row">
                                <div class="col-lg-6">
                                    <label for="choices-multiple-remove-button" class="form-label font-size-16"
                                        style="font-family: Ubuntu; font-weight: normal; color: #191d23">Department</label>
                                    <ng-select name="dept" [(ngModel)]="selectedDept" [clearable]="false"
                                        (change)="getSelectedDept()"
                                        class="ng-select ng-select-searchable ng-select-clearable ng-select-bottoms text-capitalize"
                                        [multiple]="false" [maxSelectedItems]="1">
                                        <ng-option *ngFor="let department of dept" [value]="department.dept_id">
                                            {{ department.name }}
                                        </ng-option>
                                    </ng-select>

                                    <!--span class="col"><label for="floatingInput" class="font-size-13">Department
                                                                    </label></span-->
                                    <!--span class="col">
                                                                    <ng-select [multiple]="false">
                                                                        <ng-option *ngFor="let department from dept"> {{department.name}} </ng-option>
                                                                    </ng-select>
                                
                                                                </span-->
                                </div>
                                <div class="col-lg-6">
                                    <label for="choices-multiple-remove-button" class="form-label font-size-16"
                                        style="font-family: Ubuntu; font-weight: normal; color: #191d23">Sub
                                        Department</label>
                                    <ng-select name="subDept" [(ngModel)]="selectedSubdept" [clearable]="false"
                                        (change)="getSelectedSubdept()"
                                        class="ng-select ng-select-searchable ng-select-clearable ng-select-bottoms text-capitalize"
                                        [multiple]="false" [maxSelectedItems]="1">
                                        <ng-option *ngFor="let sdept of subDept" [value]="sdept.subdept_id">
                                            {{ sdept.name }}
                                        </ng-option>
                                    </ng-select>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <span class="col"><label for="floatingInput" class="font-size-13"> </label></span>
                            <!-- <p class="text-muted">Lorem Ipsum is simply dummy text of the printing and typesetting
                                                        industry.
                                                        Lorem Ipsum has
                                                        been the industry's standard
                                                        dummy text</p> -->
                        </div>
                    </div>
                </div>
            </div>
            <div class="row" style="height: 450px">
                <div class="col-lg-6">
                    <div id="funnel" echarts [options]="options" class="demo-chart text-capitalize"></div>
                </div>

                <div class="col-lg-6">
                    <h6 style="
                  font-family: Ubuntu;
                  font-weight: bold;
                  color: #191d23;
                  font-size: 20px;
                ">
                        Subdomain
                    </h6>
                    <div *ngIf="
                  userRole == this.appRoles.roles[2] ||
                  userRole == this.appRoles.roles[3]
                " class="row" style="padding-top: 9px">
                        <div class="col round-card" style="margin: 10px" *ngFor="let sdomain of subdomain">
                            <a routerLink="/dashboard1/employee-list" [queryParams]="{
                      dept_id: selectedDept,
                      subdept_id: selectedSubdept,
                      subdomain: sdomain.subdomain_id
                    }" (click)="getSelectedSubDomain(sdomain.subdomain_nm)">
                                <div class="rounded-circle shadow-lg tool" [ngClass]="
                        sdomain.domain_id == 1
                          ? 'custom-round1'
                          : sdomain.domain_id == 2
                          ? 'custom-round2'
                          : 'custom-round3'
                      ">
                                    <h5>{{ sdomain.percentage }} %</h5>
                                    <span class="tooltiptext" [ngClass]="
                          sdomain.domain_id == 1
                            ? 'tooltipborder1'
                            : sdomain.domain_id == 2
                            ? 'tooltipborder2'
                            : 'tooltipborder3'
                        ">&nbsp; Employee Count:{{
                                        sdomain.skill_mappings_aggregate.aggregate.count
                                        }}
                                        &nbsp;
                                    </span>
                                </div>
                            </a>
                            <p class="text-center pt-2 text-capitalize">
                                {{ sdomain.subdomain_nm | lowercase }}
                            </p>
                        </div>
                    </div>
                    <div *ngIf="
                  userRole == this.appRoles.roles[1] ||
                  userRole == this.appRoles.roles[0]
                " class="row" style="padding-top: 9px; height: 400px;">
                        <a id="bubbles" echarts [options]="bubble" class="demo-chart sentenceCase"></a>
                    </div>
                </div>
            </div>
        </ng-template>

        <ng-template #TabContent2>
            <div class="row" style="height: 600px">
                <div class="col-lg-12">
                    <div echarts [options]="sunburstOption" class="demo-chart" id="demo-chart"></div>
                </div>
            </div>
        </ng-template>

        <!-- Tab panes -->
        <div class="tab-content mx-0 px-0 py-3 text-muted">
            <div [ngbNavOutlet]="justifyNav"></div>
        </div>
        <!-- end tab content -->
    </div>

    <div *ngIf="currentUserId.role == this.appRoles.roles[0]" class="card mt-4">
        <div class="card-body">
            <blockquote class="card mb-0 pt-2 p-1 bg-light mb-4">
                <h6 style="
            font-family: Ubuntu;
            font-weight: normal;
            color: #191d23;
            font-size: 19px;
          ">
                    <img src="assets/images/menu-icon/ApprovalRequired.png" /> Authority
                    Employee List For Approval
                </h6>
            </blockquote>

            <div class="card">
                <ul class="list-group list-group-flush p-4">
                    <span *ngIf="auhorityTechSkill">
                        <li class="list-group-item" *ngFor="let authorityList of auhorityTechSkill">
                            <div class="row p-0 m-0">
                                <div class="col-lg-1 p-0 m-0 text-left">
                                    <span *ngIf="authorityList.emp_info?.emp_image">
                                        <img class="rounded-circle avatar" src="{{ authorityList.emp_info?.emp_image }}"
                                            alt="" />
                                    </span>
                                    <span *ngIf="!authorityList.emp_info?.emp_image">
                                        <img class="rounded-circle avatar" src="assets/images/profile-pic2.png"
                                            alt="" />
                                    </span>
                                    <!-- <img src="assets/images/users/avatar-2.jpg" alt="" class="rounded-circle avatar"> -->
                                </div>
                                <!-- end col -->
                                <div class="col-lg-9 pt-2">
                                    <div class="text-dark fs-normal">
                                        <b class="text-capitalize">{{
                      authorityList?.emp_info?.emp_nm | lowercase
                    }}</b>
                                        Technical depth has been updated as <b> Authority </b>.
                                        Please review and approve.
                                    </div>
                                    <div class="text-secondary">
                                        <i class="fas fa-calendar-alt"></i>
                                        {{ authorityList?.create_ts | localtime }}
                                    </div>
                                </div>
                                <div class="col-lg-2 pt-2 text-end font-size-13">
                                    <button data-bs-toggle="modal" data-bs-target="#authorityListModel"
                                        class="btn text-decoration-underline font-size-12" style="color: #00448a"
                                        (click)="
                      authorityListModelFn(
                        authorityListModel,
                        authorityList.skill_mapping_id
                      )
                    ">
                                        View Details
                                    </button>
                                </div>
                            </div>
                        </li>
                    </span>
                </ul>
            </div>
        </div>
    </div>

    <div *ngIf="currentUserId.role != this.appRoles.roles[1]" class="card mt-4">
        <div class="card-body">
            <blockquote class="card mb-0 pt-2 p-1 bg-light mb-4">
                <h6 style="
            font-family: Ubuntu;
            font-weight: normal;
            color: #191d23;
            font-size: 19px;
          ">
                    <img src="assets/images/menu-icon/ApprovalRequired.png" /> Latest
                    Updates |
                    <span class="text-end font-size-19"><a routerLink="/dashboard1/approval-list"
                            class="text-decoration-underline" style="color: #00448a">
                            See All
                        </a></span>
                </h6>
            </blockquote>

            <div class="card">
                <ul class="list-group list-group-flush p-4 pending-list">
                    <span *ngIf="pendingApprovalLs">
                        <li class="list-group-item" *ngFor="let pendingDetail of pendingApprovalLs">
                            <div class="row p-0 m-0">
                                <div class="col-lg-1 p-0 m-0 text-left">
                                    <span *ngIf="pendingDetail.emp_image">
                                        <img class="rounded-circle avatar" src="{{ pendingDetail?.emp_image }}"
                                            alt="" />
                                    </span>
                                    <span *ngIf="!pendingDetail?.emp_image">
                                        <img class="rounded-circle avatar" src="assets/images/profile-pic2.png"
                                            alt="" />
                                    </span>

                                    <!-- <img src="assets/images/users/avatar-2.jpg" alt="" class="rounded-circle avatar"> -->
                                </div>
                                <!-- end col -->
                                <div class="col-lg-9 pt-2">
                                    <div class="text-dark fs-normal">
                                        <b class="text-capitalize">{{
                      pendingDetail?.emp_nm | lowercase
                    }}</b>
                                        has updated the
                                        <b *ngIf="pendingDetail?.cat == 'PJT'"> Project Details </b>
                                        <b *ngIf="pendingDetail?.cat == 'JC'"> Job Chat </b>
                                        <b *ngIf="pendingDetail?.cat == 'ADSK'">
                                            Additional Skill</b>
                                        section, please review
                                    </div>
                                    <div class="text-secondary">
                                        <i class="fas fa-calendar-alt"></i>
                                        {{ pendingDetail?.create_ts | localtime }}
                                    </div>
                                </div>
                                <div class="col-lg-2 pt-2 text-end font-size-13">
                                    <button *ngIf="pendingDetail?.cat == 'PJT'" data-bs-toggle="modal"
                                        data-bs-target="#projectApprovalModel"
                                        class="btn text-decoration-underline font-size-12" style="color: #00448a"
                                        (click)="
                      projectApprovalModelFn(
                        projectApprovalModel,
                        pendingDetail.id
                      )
                    ">
                                        View Details
                                    </button>
                                    <button *ngIf="pendingDetail?.cat == 'ADSK'" data-bs-toggle="modal"
                                        data-bs-target="#additioanalSkillModel"
                                        class="btn text-decoration-underline font-size-12" style="color: #00448a"
                                        (click)="
                      additioanalSkillModelFn(
                        additioanalSkillModel,
                        pendingDetail.id
                      )
                    ">
                                        View Details
                                    </button>
                                    <button *ngIf="pendingDetail?.cat == 'JC'" data-bs-toggle="modal"
                                        class="btn text-decoration-underline font-size-13" style="color: #00448a"
                                        data-bs-target="#jobChatModel"
                                        (click)="jobChatModelFn(jobChatModel, pendingDetail.id)">
                                        View Details
                                    </button>
                                </div>
                            </div>
                        </li>
                    </span>
                </ul>
            </div>
        </div>
    </div>
    <!-- Scrollable modal -->
    <ng-template #projectApprovalModel let-modal>
        <div class="modal-header">
            <h5 class="heading-black" id="projectApprovalModelTitle">Project Info</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                (click)="modal.close('Close click')"></button>
        </div>

        <div class="modal-body">
            <div class="row" *ngIf="projectPopContent">
                <blockquote class="blockquote mb-0 bg-light rounded_card shadow-md">
                    <h6 class="body-black font-size-18">{{ projectPopContent.title }}</h6>
                    <p class="badge badge-soft-custom m-0 py-2 me-2 details-definition">
                        {{ projectPopContent.role }}
                    </p>
                    <p class="badge badge-soft-custom m-0 py-2 details-definition">
                        <i class="fas fa-globe pe-2"></i>{{ projectPopContent.significance }}
                    </p>
                    <!--p class="font-size-13"> <cite title="Source Title">Project Lead</cite> </p-->
                    <p class="col-sm-12 font-size-13 mb-0 mt-2 details-definition">
                        <i class="fas fa-calendar-alt pe-2"></i><cite
                            title="Source Title">{{ projectPopContent.start_date | localtime }} -
                            {{ projectPopContent.end_date | localtime }}</cite>
                    </p>
                </blockquote>
                <div>
                    <h6 class="pt-4 body-black font-size-16">Details</h6>
                    <p class="details-definition">{{ projectPopContent.description }}</p>
                </div>
                <div>
                    <h6 class="font-size-16 body-black">Skills</h6>
                    <div>
                        <span *ngFor="let proj_skills of projectPopContent.project_skills">
                            <p [ngClass]="
                  proj_skills.tech_skills_info.domain_id == 1
                    ? 'badge-soft-custom-purple'
                    : proj_skills.tech_skills_info.domain_id == 2
                    ? 'badge-soft-custom-primary'
                    : proj_skills.tech_skills_info.domain_id == 3
                    ? 'badge-soft-custom-warning'
                    : 'badge-soft-custom-green'
                " class="badge py-2 me-2 font-size-11 text-capitalize">
                                {{ proj_skills.tech_skills_info.skill_nm | lowercase }}
                            </p>
                        </span>
                    </div>
                </div>
                <div class="row mt-4">
                    <div class="row mt-4">
                        <div class="col-md-6" *ngIf="projectPopContent?.approval_status == 0">
                            <span class="badge rounded-pill badge-outline-secondary ms-1 p-1">
                                <span class="text-warning font-size-13 pr-2"><i
                                        class="fas fa-hourglass-half"></i></span>
                                Pending
                            </span>
                        </div>
                        <div class="col-md-6" *ngIf="projectPopContent?.approval_status == 1">
                            <span class="badge rounded-pill badge-outline-secondary ms-1 p-1">
                                <span class="text-success font-size-13 pr-2"><i class="fas fa-check-circle"></i></span>
                                Approved on {{ projectPopContent?.approval_date | localtime }}
                            </span>
                        </div>
                        <div class="col-md-6" *ngIf="projectPopContent?.approval_status == 2">
                            <span class="badge rounded-pill badge-outline-secondary ms-1 p-1">
                                <span class="text-danger font-size-13 pr-2"><i class="fas fa-window-close"></i></span>
                                Recheck
                            </span>
                        </div>
                        <div class="col-md-6 text-end" *ngIf="projectPopContent?.created_ts">
                            <span class="pe-0" style="margin-left: -10px">
                                <i class="fas fa-clock"></i>Updated on
                                {{ projectPopContent?.created_ts | localtime }}
                            </span>
                        </div>
                    </div>
                    <!--div class="col-md-8">
                                <span class="badge rounded-pill badge-outline-secondary ms-1 p-1">
                                    <span class="text-success font-size-13 pr-2"><i
                                            class="fas fa-check-circle"></i></span>
                                    Approved on {{projectPopContent.approval_date | date:'mediumDate'}}
                                </span>
                            </div-->
                    <!--div class="col-md-4 text-end">
                                <a class="text-decoration-underline" href="#"> <i
                                        class="fas fa-pencil-alt text-secondary"></i>
                                    <span class="text-primary"> Edit </span> </a>
                            </div-->
                </div>
            </div>
            <hr />
        </div>

        <!--div class="modal-footer">
                                            <button type="button" class="btn btn-light w-sm"
                                                (click)="modal.close('Close click')">Close</button>
                                            <button type="submit" class="btn theme-custom-color w-sm"
                                                id="btn-save-event">Add</button>
                                        </div-->

        <!--div class="modal-footer">
            <button type="button" class="btn btn-light w-sm" (click)="modal.close('Close click')">Close</button>
            <button type="submit" class="btn theme-custom-color w-sm" id="btn-save-event">Add</button>
        </div-->
        <div class="modal-footer" *ngIf="
        userRole == this.appRoles.roles[2] || userRole == this.appRoles.roles[0] || userRole == this.appRoles.roles[3]
      ">
            <button type="button" class="btn custom_btn_danger cancel" style="margin-top: 17px; height: 36px"
                (click)="modal.close('Close click')">
                Close
            </button>
            <div class="row">
                <div class="col-md-6" style="margin-top: 13px">
                    <a (click)="projectApproveAction(1, projectPopContent.project_id)"
                        class="btn badge badge-soft-secondary py-2 me-2 font-size-16 approvebtn">
                        <i class="far fa-check-circle text-success"></i>
                        Approve
                    </a>
                </div>
                <div class="col-md-6" style="margin-top: 13px">
                    <a (click)="projectApproveAction(2, projectPopContent.project_id)"
                        class="btn badge badge-soft-secondary py-2 mb-0 me-2 font-size-16 rejectbtn"><i
                            class="far fa-times-circle text-danger"></i>
                        Reject
                    </a>
                </div>
            </div>
        </div>
    </ng-template><!-- /.modal -->
    <!-- Scrollable modal -->
    <ng-template #additioanalSkillModel let-modal>
        <div class="modal-header">
            <h5 class="heading-black" id="additionalSkillTitle">Additional Skills</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                (click)="modal.close('Close click')"></button>
        </div>
        <div class="card rounded_card shadow-lg">
            <div class="card-body">
                <div class="modal-body">
                    <div class="row">
                        <blockquote class="blockquote mb-0 badge-soft-purple shadow-lg rounded_card">
                            <div class="card bg-light p-0 shadow-lg rounded_card">
                                <div class="card-body custom-space" style="height: 50px">
                                    <div class="row">
                                        <div class="col-lg-8">
                                            <h6 class="body-black" style="margin-top: -3px">
                                                {{ additionalSkillPopContent?.additional_skill_type }}
                                            </h6>
                                        </div>
                                        <!--div class="col-lg-4 text-end font-size-13">
                                            <a routerLink="/emp-add-additional-skill"> View
                                                All
                                            </a>
                                        </div-->
                                    </div>
                                </div>
                            </div>

                            <h6 class="body-black">{{ additionalSkillPopContent?.title }}</h6>
                            <!-- <div class="row">
                                <div class="col-lg-12">
                                    <p class=" badge badge-soft-custom m-0 py-2 me-2 details-definition">
                                        {{additionalSkillPopContent?.status}}
                                    </p>
                                     <div class=" badge badge-soft-custom m-0 py-2 details-definition">
                                        <div *ngIf="additionalSkillPopContent?.scope === 'Global'"><i
                                                class="fas fa-globe pe-2"></i>{{additionalSkillPopContent?.scope}}
                                        </div>
                                        <div class="details-definition"
                                            *ngIf="additionalSkillPopContent?.scope === 'Local'"><i
                                                class="fas fa-building pe-2"></i>{{additionalSkillPopContent?.scope}}
                                        </div>
                                    </div> 
                                </div>
                            </div> -->
                        </blockquote>
                        <div>
                            <h6 class="pt-4 body-black font-size-16">Details</h6>
                            <p class="details-definition">
                                {{ additionalSkillPopContent?.description }}
                            </p>
                        </div>
                        <div>
                            <h6 class="body-black font-size-16">
                                <i class="fas fa-paperclip"></i> Attachments
                            </h6>
                            <div class="row">
                                <div class="col-md-4 attachment-card" style="margin: -0.7rem; padding-left: 28px"
                                    *ngFor="
                    let media of additionalSkillPopContent.additional_skill_attachments
                  ">
                                    <a href="{{ media.src }}" download>
                                        <div class="card col-md-6 text-end attachment-card text-center"
                                            style="width: 7rem">
                                            <img *ngIf="
                          media.name.includes('.jpeg') ||
                          media.name.includes('.png') ||
                          media.name.includes('.jpg')
                        " class="card-img-top" style="height: 51px; width: 125px" src="{{ media.src }}" alt="image" />
                                            <i *ngIf="media.name.includes('.pdf')" class="fas fa-file-pdf" style="
                          font-size: 50px;
                          color: #f15642;
                          padding: -11px;
                          margin-left: 46px;
                        "></i>
                                            <i *ngIf="media.name.includes('.doc')" class="fas fa-file-word" style="
                          font-size: 50px;
                          color: #7a9bdc;
                          padding: -11px;
                          margin-left: 46px;
                        "></i>

                                            <i *ngIf="
                          media.name.includes('.xl') ||
                          media.name.includes('.csv')
                        " class="far fa-file-excel" style="
                          font-size: 50px;
                          color: #05b85e;
                          padding: -11px;
                          margin-left: 46px;
                        "></i>
                                            <i *ngIf="
                          media.name.includes('.jpg') === false &&
                          media.name.includes('.xl') === false &&
                          media.name.includes('.csv') === false &&
                          media.name.includes('.jpeg') === false &&
                          media.name.includes('.png') === false &&
                          media.name.includes('.pdf') === false &&
                          media.name.includes('.doc') === false
                        " class="fa fa-file" style="
                          font-size: 50px;
                          color: #0564b8;
                          padding: -11px;
                          margin-left: 46px;
                        "></i>

                                            <div class="card-body">
                                                <p class="card-text card-text-wrap">{{ media.name }}</p>
                                            </div>
                                        </div>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="row mt-4">
                            <div class="col-md-6" *ngIf="additionalSkillPopContent?.approval_status == 0">
                                <span class="badge rounded-pill badge-outline-secondary ms-1 p-1">
                                    <span class="text-warning font-size-13 pr-2"><i
                                            class="fas fa-hourglass-half"></i></span>
                                    Pending
                                </span>
                            </div>
                            <div class="col-md-6" *ngIf="additionalSkillPopContent?.approval_status == 1">
                                <span class="badge rounded-pill badge-outline-secondary ms-1 p-1">
                                    <span class="text-success font-size-13 pr-2"><i
                                            class="fas fa-check-circle"></i></span>
                                    Approved on
                                    {{ additionalSkillPopContent?.approval_date | localtime }}
                                </span>
                            </div>
                            <div class="col-md-6" *ngIf="additionalSkillPopContent?.approval_status == 2">
                                <span class="badge rounded-pill badge-outline-secondary ms-1 p-1">
                                    <span class="text-danger font-size-13 pr-2"><i
                                            class="fas fa-window-close"></i></span>
                                    Recheck
                                </span>
                            </div>
                            <div class="col-md-6 text-end" *ngIf="additionalSkillPopContent?.create_ts">
                                <span class="pe-0" style="margin-left: -25px">
                                    <i class="fas fa-clock"></i>Updated on
                                    {{ additionalSkillPopContent?.create_ts | localtime }}
                                </span>
                            </div>
                        </div>
                    </div>
                    <hr />
                </div>
            </div>
        </div>
        <!--div class="modal-footer">
                                            <button type="button" class="btn btn-light w-sm"
                                                (click)="modal.close('Close click')">Close</button>
                                            <button type="submit" class="btn theme-custom-color w-sm"
                                                id="btn-save-event">Add</button>
                                        </div-->

        <div class="modal-footer" *ngIf="
        userRole == this.appRoles.roles[2] || userRole == this.appRoles.roles[0] || userRole == this.appRoles.roles[3]
      ">
            <button type="button" class="btn custom_btn_danger me-2 cancel" style="margin-top: 17px; height: 36px"
                (click)="modal.close('Close click')">
                Close
            </button>
            <div class="row">
                <div class="col-md-6" style="margin-top: 13px">
                    <a (click)="
              additionalSkillApproveAction(
                1,
                additionalSkillPopContent.additional_skills_id
              )
            " class="btn badge badge-soft-secondary py-2 me-2 font-size-16 approvebtn">
                        <i class="far fa-check-circle text-success"></i>
                        Approve
                    </a>
                </div>
                <div class="col-md-6" style="margin-top: 13px">
                    <a (click)="
              additionalSkillApproveAction(
                2,
                additionalSkillPopContent.additional_skills_id
              )
            " class="btn badge badge-soft-secondary py-2 mb-0 me-2 font-size-16 rejectbtn"><i
                            class="far fa-times-circle text-danger"></i>
                        Reject
                    </a>
                </div>
            </div>
        </div>
    </ng-template>

    <ng-template #jobChatModel let-modal>
        <div class="modal-header">
            <h5 class="heading-black" id="jobChatModelTitle">Job Chat</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                (click)="modal.close('Close click')"></button>
        </div>

        <div class="card rounded_card shadow-lg">
            <div class="card-body">
                <div class="modal-body">
                    <div class="row">
                        <div class="col-lg-12">
                            <h6 class="body-black font-size-16">
                                Career Aspiration statement
                            </h6>
                            <p class="font-size-13 details-definition">
                                {{ jobChatPopContent?.aspiration_stmt }}
                            </p>
                        </div>
                        <h6 class="body-black font-size-16">Career Milestones</h6>
                        <div class="col-lg-12 py-2" *ngFor="
                let term of jobChatPopContent?.career_plan_infos;
                let i = index
              ">
                            <span class="badge rounded-pill badge-soft-secondary ms-1 p-1 mb-2">
                                <span class="font-size-12 pr-4"><i class="fas fa-check-circle"></i>
                                    {{ term?.time_frame }}
                                </span>
                            </span>
                            <blockquote class="blockquote mb-0" [ngClass]="
                  i == 0
                    ? 'bg-light'
                    : i == 1
                    ? 'badge-soft-primary'
                    : 'badge-soft-danger'
                ">
                                <h6 class="font-size-16 body-black">Aspired Role</h6>

                                <div class="row">
                                    <div class="card mb-2 pt-1">
                                        <div class="row mb-2">
                                            <div class="col font-size-13">
                                                <span class="details-definition"> Company </span>
                                            </div>
                                            <div class="col font-size-13 text-muted text-end">
                                                {{ term?.aspired_role.company }}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card mb-2 pt-1" *ngIf="term?.aspired_role.category">
                                        <div class="row mb-2">
                                            <div class="col font-size-13">
                                                <span class="details-definition"> Category </span>
                                            </div>
                                            <div class="col font-size-13 text-muted text-end">
                                                {{ term?.aspired_role.category }}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card mb-2 pt-1" *ngIf="term?.aspired_role.unit">
                                        <div class="row mb-2">
                                            <div class="col font-size-13">
                                                <span class="text-dark font-weight-bold">
                                                    {{ term?.aspired_role.unit.name }}
                                                </span>
                                            </div>
                                            <div class="col font-size-13 text-muted text-end">
                                                {{ term?.aspired_role.unit.value }}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card mb-2 pt-1" *ngIf="term?.aspired_role.location">
                                        <div class="row mb-2">
                                            <div class="col font-size-13">
                                                <span class="text-dark font-weight-bold">
                                                    Location
                                                </span>
                                            </div>
                                            <div class="col font-size-13 text-muted text-end">
                                                {{ term?.aspired_role.location }}
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-lg-12">
                                    <h6 class="my-2 body-black">Comments</h6>
                                    <p class="font-size-13 details-definition">
                                        {{ term?.comments_nm }}
                                    </p>
                                </div>
                            </blockquote>
                        </div>
                        <blockquote class="blockquote mt-4 mb-0 bg-light">
                            <div class="row">
                                <div class="col-lg-12">
                                    <div class="col-lg-12 font-size-13">
                                        <span>
                                            Career Path Preference :
                                            <b> {{ jobChatPopContent?.path_preference }} </b>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </blockquote>
                        <div class="row mt-4">
                            <div class="col-md-6">
                                <span class="badge rounded-pill badge-outline-secondary ms-1 p-1 font-size-13"
                                    style="color: #64748b">
                                    <span class="text-warning font-size-13 pr-2"><i
                                            class="fas fa-hourglass-half"></i></span>
                                    Pending
                                </span>
                            </div>
                            <div class="col-md-6 text-end">
                                <span class="pe-0" style="margin-left: -25px">
                                    <i class="fas fa-clock"></i>Updated on
                                    {{ jobChatPopContent?.create_ts | localtime }}</span>
                            </div>
                            <!-- <div class="col-md-6 text-end">
                                <span class="pe-4"> <i class="fas fa-clock"></i> Last modified on
                                    {{jobChatPopContent?.updated_ts | date:'mediumDate'}}</span>
                                <span><a class="text-decoration-underline" href="#"> <i class="fas fa-pencil-alt"></i>
                                        Edit
                                    </a></span>
                            </div> -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer" *ngIf="
        userRole == this.appRoles.roles[2] || userRole == this.appRoles.roles[0] || userRole == this.appRoles.roles[3]
      ">
            <button type="button" class="btn custom_btn_danger me-2 cancel" style="margin-top: 17px; height: 36px"
                (click)="modal.close('Close click')">
                Close
            </button>
            <div class="row">
                <div class="col-md-6" style="margin-top: 13px">
                    <a (click)="jobChatApproveAction(1, jobChatPopContent.job_chat_id)"
                        class="btn badge badge-soft-secondary py-2 me-2 font-size-16 approvebtn">
                        <i class="far fa-check-circle text-success"></i>
                        Approve
                    </a>
                </div>
                <div class="col-md-6" style="margin-top: 13px">
                    <a (click)="jobChatApproveAction(2, jobChatPopContent.job_chat_id)"
                        class="btn badge badge-soft-secondary py-2 mb-0 me-2 font-size-16 rejectbtn"><i
                            class="far fa-times-circle text-danger"></i>
                        Reject
                    </a>
                </div>
            </div>
        </div>
    </ng-template><!-- /.modal -->

    <ng-template #authorityListModel let-modal>
        <div class="modal-header">
            <h5 class="heading-black" id="authorityListModelTitle">Authority List</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                (click)="modal.close('Close click')"></button>
        </div>

        <div class="modal-body">
            <div class="row">
                <div class="col-lg-12">
                    <h6 class="body-black font-size-16 text-capitalize">
                        Authority Skill Details of
                        <b> {{ techSkillOfSkillMapId?.emp_info?.emp_nm | lowercase }} </b>
                    </h6>

                    <table class="table table-theme table-row v-middle">
                        <tbody class="table_content shadow-lg">
                            <tr class="table-th-tr">
                                <td>
                                    <h6>Domain</h6>
                                </td>
                                <td [ngClass]="
                    techSkillOfSkillMapId?.team_skills_info?.domain == 1
                      ? 'domain1'
                      : techSkillOfSkillMapId?.team_skills_info?.domain == 2
                      ? 'domain2'
                      : techSkillOfSkillMapId?.team_skills_info?.domain == 3
                      ? 'domain3'
                      : 'border-left-success'
                  ">
                                    <span [ngClass]="
                      techSkillOfSkillMapId?.team_skills_info?.domain == 1
                        ? 'badge-soft-custom-purple'
                        : techSkillOfSkillMapId?.team_skills_info?.domain == 2
                        ? 'badge-soft-custom-primary'
                        : techSkillOfSkillMapId?.team_skills_info?.domain == 3
                        ? 'badge-soft-custom-warning'
                        : 'badge-soft-custom-green'
                    " class="font-size-14 badge shadow-lg text-capitalize">
                                        {{
                      techSkillOfSkillMapId?.team_skills_info?.domain_info
                        ?.domain_nm | lowercase
                    }}
                                    </span>
                                </td>
                            </tr>
                            <tr class="table-th-tr">
                                <td>
                                    <h6>Sub Domain</h6>
                                </td>
                                <td [ngClass]="
                    techSkillOfSkillMapId?.team_skills_info?.domain == 1
                      ? 'domain1'
                      : techSkillOfSkillMapId?.team_skills_info?.domain == 2
                      ? 'domain2'
                      : techSkillOfSkillMapId?.team_skills_info?.domain == 3
                      ? 'domain3'
                      : 'border-left-success'
                  ">
                                    <span [ngClass]="
                      techSkillOfSkillMapId?.team_skills_info?.domain == 1
                        ? 'badge-soft-custom-purple'
                        : techSkillOfSkillMapId?.team_skills_info?.domain == 2
                        ? 'badge-soft-custom-primary'
                        : techSkillOfSkillMapId?.team_skills_info?.domain == 3
                        ? 'badge-soft-custom-warning'
                        : 'badge-soft-custom-green'
                    " class="font-size-14 badge shadow-lg text-capitalize">
                                        {{
                      techSkillOfSkillMapId?.team_skills_info?.subdomain_info
                        ?.subdomain_nm | lowercase
                    }}
                                    </span>
                                </td>
                            </tr>
                            <tr class="table-th-tr" *ngIf="techSkillOfSkillMapId?.team_skills_info?.level1">
                                <td>
                                    <h6>Level 1</h6>
                                </td>
                                <td [ngClass]="
                    techSkillOfSkillMapId?.team_skills_info?.domain == 1
                      ? 'domain1'
                      : techSkillOfSkillMapId?.team_skills_info?.domain == 2
                      ? 'domain2'
                      : techSkillOfSkillMapId?.team_skills_info?.domain == 3
                      ? 'domain3'
                      : 'border-left-success'
                  ">
                                    <span [ngClass]="
                      techSkillOfSkillMapId?.team_skills_info?.domain == 1
                        ? 'badge-soft-custom-purple'
                        : techSkillOfSkillMapId?.team_skills_info?.domain == 2
                        ? 'badge-soft-custom-primary'
                        : techSkillOfSkillMapId?.team_skills_info?.domain == 3
                        ? 'badge-soft-custom-warning'
                        : 'badge-soft-custom-green'
                    " class="font-size-14 badge shadow-lg text-capitalize">
                                        {{
                      techSkillOfSkillMapId?.team_skills_info?.level1?.skill_nm
                        | lowercase
                    }}
                                    </span>
                                </td>
                            </tr>
                            <tr class="table-th-tr" *ngIf="techSkillOfSkillMapId?.team_skills_info?.level2">
                                <td>
                                    <h6>Level 2 : Specialisation</h6>
                                </td>
                                <td [ngClass]="
                    techSkillOfSkillMapId?.team_skills_info?.domain == 1
                      ? 'domain1'
                      : techSkillOfSkillMapId?.team_skills_info?.domain == 2
                      ? 'domain2'
                      : techSkillOfSkillMapId?.team_skills_info?.domain == 3
                      ? 'domain3'
                      : 'border-left-success'
                  ">
                                    <span [ngClass]="
                      techSkillOfSkillMapId?.team_skills_info?.domain == 1
                        ? 'badge-soft-custom-purple'
                        : techSkillOfSkillMapId?.team_skills_info?.domain == 2
                        ? 'badge-soft-custom-primary'
                        : techSkillOfSkillMapId?.team_skills_info?.domain == 3
                        ? 'badge-soft-custom-warning'
                        : 'badge-soft-custom-green'
                    " class="font-size-14 badge shadow-lg text-capitalize">
                                        {{
                      techSkillOfSkillMapId?.team_skills_info?.level2?.skill_nm
                        | lowercase
                    }}
                                    </span>
                                </td>
                            </tr>
                            <tr class="table-th-tr" *ngIf="techSkillOfSkillMapId?.team_skills_info?.level3">
                                <td>
                                    <h6>Level 3 : Core Specialisation</h6>
                                </td>
                                <td [ngClass]="
                    techSkillOfSkillMapId?.team_skills_info?.domain == 1
                      ? 'domain1'
                      : techSkillOfSkillMapId?.team_skills_info?.domain == 2
                      ? 'domain2'
                      : techSkillOfSkillMapId?.team_skills_info?.domain == 3
                      ? 'domain3'
                      : 'border-left-success'
                  ">
                                    <span [ngClass]="
                      techSkillOfSkillMapId?.team_skills_info?.domain == 1
                        ? 'badge-soft-custom-purple'
                        : techSkillOfSkillMapId?.team_skills_info?.domain == 2
                        ? 'badge-soft-custom-primary'
                        : techSkillOfSkillMapId?.team_skills_info?.domain == 3
                        ? 'badge-soft-custom-warning'
                        : 'badge-soft-custom-green'
                    " class="font-size-14 badge shadow-lg text-capitalize">
                                        {{
                      techSkillOfSkillMapId?.team_skills_info?.level3?.skill_nm
                        | lowercase
                    }}
                                    </span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <div>
                        <h6>Qualitative Comments</h6>
                        <textarea class="form-control" placeholder="" id="qualitative_comments_nm"
                            [(ngModel)]="qualitativeComment" [value]="techSkillOfSkillMapId?.qualitative_comments_nm"
                            #qualitative_comments_nm="ngModel" name="qualitative_comments_nm"
                            style="height: 100px"></textarea>
                    </div>

                    <!-- <div class="card shadow-lg p-3"
                        [ngClass]="techSkillOfSkillMapId?.team_skills_info?.domain == 1 ? 'domain1' : (techSkillOfSkillMapId?.team_skills_info?.domain == 2 ? 'domain2' : (techSkillOfSkillMapId?.team_skills_info?.domain == 3 ? 'domain3' : 'border-left-success'))">
                        <h6> Technical Depth History </h6>
                        <span class="font-size-14 badge shadow-lg text-capitalize">

                             <div class="timeline-steps aos-init aos-animate col-lg-12 pt-2" data-aos="fade-up">
                                <div class="inline" *ngFor="let history of techSkillOfSkillMapId.tech_depth_history">
                                    <div class="timeline-content">
                                        <i [ngClass]="{'last-time-line':history.last , 'past-time-line':!history.last}"
                                            class="fas fa-dot-circle timelineColor"></i>
                                        <div *ngIf="!history.last" class="timeline-line line">
                                        </div>
                                        <div *ngIf="history.last" class="last-time-line">
                                        </div>
                                        <div class="text-center mx-auto my-auto total-exp">
                                            <h6>{{history.name}}</h6>
                                            <p class="font-size-11">
                                                {{history.updated_date}}{{history.update_date}}
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div> 

                    </span>
                </div> -->
                </div>
            </div>
        </div>

        <div class="modal-footer" *ngIf="userRole == this.appRoles.roles[0]">
            <button type="button" class="btn custom_btn_danger me-2 cancel" style="margin-top: 17px; height: 36px"
                (click)="modal.close('Close click')">
                Close
            </button>
            <div class="row">
                <div class="col-md-6" style="margin-top: 13px">
                    <a (click)="
              authorityListApproval(1, techSkillOfSkillMapId?.skill_mapping_id)
            " class="btn badge badge-soft-secondary py-2 me-2 font-size-16 approvebtn">
                        <i class="far fa-check-circle text-success"></i>
                        Approve
                    </a>
                </div>
                <div class="col-md-6" style="margin-top: 13px">
                    <a (click)="
              authorityListApproval(2, techSkillOfSkillMapId?.skill_mapping_id)
            " class="btn badge badge-soft-secondary py-2 mb-0 me-2 font-size-16 rejectbtn"><i
                            class="far fa-times-circle text-danger"></i>
                        Reject
                    </a>
                </div>
            </div>
        </div>
    </ng-template><!-- /.modal -->
</div>